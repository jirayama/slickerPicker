function sp(e){var a=0,d=1,n=14,t=100,l=50,o=(e=e||{}).rbga||hsl2rbg(n,t,l),r={x:172,y:22},s=0,i="",u=new El("div").addClass("module").addId("sp_module"),p=new El("div").addClass("module_top").addId("sp_module_top"),f=new El("div").addClass("module_left").addId("sp_module_left"),c=new El("div").addClass("module_right").addId("sp_module_right"),h=new El("div").addClass("module_bottom").addId("sp_module_bottom"),g=new El("div").addClass("colorPicker").addId("sp_colorPicker"),y=new El("canvas").addId("colorPicker"),v=y.getContext("2d"),b=new El("div").addClass("huePicker").addId("sp_huePicker"),w=new El("canvas").addId("huePicker"),E=w.getContext("2d"),M=new El("div").addClass("alphaPicker").addId("sp_alphaPicker"),_=new El("canvas").addId("alphaPicker"),m=_.getContext("2d"),I=new El("ul").addClass("shadesPicker").addId("shadesPicker"),x=new El("li").addId("sp_shade_lighter"),k=new El("li").addId("sp_shade_light"),C=new El("li").addId("ssp_hade_primary"),T=new El("li").addId("sp_shade_dark"),D=new El("li").addId("sp_shade_darker"),O=new El("div").addClass("clearfix"),P=new El("div").addClass("readout_change").addId("readout_change"),X=new El("table").addClass("readoutTable").addId("readout_rgba"),L=new El("table").addClass("readoutTable").addId("readout_hsl"),Y=new El("table").addClass("readoutTable").addId("readout_hex"),R=new El("input").addType("number"),Q=new El("input").addType("number"),H=new El("input").addType("number"),S=new El("input").addType("number"),B=new El("input").addType("number"),j=new El("input").addType("number"),q=new El("input").addType("number"),z=new El("input").addType("text");function A(e,a){var d=Math.pow(10,a);return Math.round(e*d)/d}function F(e){var a=rgba2hsl(e);o=e,n=a[0],t=a[1],l=a[2],B.value=n,j.value=t,q.value=l,R.value=o[0],Q.value=o[1],H.value=o[2],S.value=d,z.value=rgbToHex(o)}function G(e){e=e||r;var a=v.getImageData(e.x,e.y,1,1).data,s=rgba2hsl(a);o=a,n=s[0],t=s[1],l=s[2],B.value=n,j.value=t,q.value=l,R.value=o[0],Q.value=o[1],H.value=o[2],S.value=d,z.value=rgbToHex(o)}function J(e,a){e.style.backgroundColor="rgba("+a[0]+","+a[1]+", "+a[2]+", "+d+")"}function K(e,a){var d=rgba2hsl(e);return d[2]=d[2]+a,d[2]<0?d[2]=0:d[2]>100&&(d[2]=100),hsl2rbg(d[0],d[1],d[2])}function N(e){e=e||n;var a=0,d=100,t=50,l=100,o=100,r=0,s=0;for(v.clearRect(0,0,198,130),s=130;s>=0;s--){for(r=0,r=200;r>=0;r--)a=Math.easeInQuad(r,o,100-o,198),d=Math.easeOutQuad(r,l,-(l-t),198),v.fillStyle="hsl("+e+","+a+"%,"+d+"%)",v.fillRect(r,s,1,1);o=Math.easeOutExpo(s,100,-100,128),l=Math.linearTween(s,100,-100,128),t=Math.easeInQuad(s,50,-50,128)}}function U(){m.clearRect(0,0,198,18);for(var e=0,a=0;a<198;a++)m.fillStyle="rgba("+o[0]+","+o[1]+","+o[2]+","+e/100+")",m.fillRect(a,0,1,18),e+=100/198}function V(){J(x,K(o,15)),J(k,K(o,8)),J(C,o),J(T,K(o,-8)),J(D,K(o,-15))}function W(){0===a?(X.style.display="block",L.style.display="none",Y.style.display="none"):1===a?(X.style.display="none",L.style.display="block",Y.style.display="none"):2===a&&(X.style.display="none",L.style.display="none",Y.style.display="block")}function Z(e){N(e),F(v.getImageData(r.x,r.y,1,1).data),V(),U()}function $(){G(),W(),V()}function ee(e){r.x=e.x,r.y=e.y,V(),W(),U(),V()}y.draggable=!1,w.draggable=!1,_.draggable=!1,X.appendMany(DOM_tableRow(R,Q,H,S)),X.appendMany(DOM_tableHeader("r","g","b","a")),L.appendMany(DOM_tableRow(B,j,q)),L.appendMany(DOM_tableHeader("h","s","l")),Y.appendMany(DOM_tableRow(z)),Y.appendMany(DOM_tableHeader("hex")),I.appendMany(x,k,C,T,D),c.appendMany(I),y.width=200,y.height=130,w.width=200,w.height=20,_.width=200,_.height=20,g.appendMany(y),b.appendMany(w),M.appendMany(_),f.appendMany(g,b,M),p.appendMany(f,c,O),h.appendMany(P,X,L,Y),u.appendMany(p,h),Math.easeInQuad=function(e,a,d,n){return d*(e/=n)*e+a},Math.easeOutQuad=function(e,a,d,n){return-d*(e/=n)*(e-2)+a},Math.easeInOutQuad=function(e,a,d,n){return(e/=n/2)<1?d/2*e*e+a:-d/2*(--e*(e-2)-1)+a},Math.easeOutExpo=function(e,a,d,n){return d*(1-Math.pow(2,-10*e/n))+a},Math.easeOutExpoSuper=function(e,a,d,n){return d*(1-Math.pow(10,-3*e/n))+a},Math.linearTween=function(e,a,d,n){return d*e/n+a},P.addEventListener("click",function(){++a>2&&(a=0),W()}),u.addEventListener("pointerdown",function(){s=1}),document.addEventListener("pointerup",function(){s=0}),y.addEventListener("pointerdown",function(e){i="color",F(v.getImageData(e.offsetX,e.offsetY,1,1).data),ee({x:e.offsetX,y:e.offsetY})}),y.addEventListener("pointermove",function(e){e.target.draggable=!1,"color"===i&&1===s&&e.offsetY<128&&e.offsetX<198&&(F(v.getImageData(e.offsetX,e.offsetY,1,1).data),ee({x:e.offsetX,y:e.offsetY}))}),w.addEventListener("pointerdown",function(e){i="hue";var a=E.getImageData(e.offsetX,e.offsetY,1,1).data;Z(rgba2hsl(a)[0])}),w.addEventListener("pointermove",function(e){if(e.target.draggable=!1,"hue"===i&&1===s&&e.offsetY<18&&e.offsetX<198){var a=E.getImageData(e.offsetX,e.offsetY,1,1).data;Z(rgba2hsl(a)[0])}}),_.addEventListener("pointerdown",function(e){i="alpha";var a=A(e.offsetX/2/95,3);a>1&&(a=1),a<0&&(a=0),d=a,$()}),_.addEventListener("pointermove",function(e){if(e.target.draggable=!1,"alpha"===i&&1===s&&e.offsetY<18&&e.offsetX<198){var a=A(e.offsetX/2/95,3);a>1&&(a=1),a<0&&(a=0),d=a,$()}}),document.getElementById("test1").appendMany(u),console.log(u),W(),N(),function(){for(var e,a=1,d=0;d<198;d++)e=hsl2rbg(a,100,50),E.fillStyle="rgb("+e[0]+","+e[1]+","+e[2]+")",E.fillRect(d,0,1,18),a+=360/198}(),U(),V(),G(),N(),F([12,120,50])}